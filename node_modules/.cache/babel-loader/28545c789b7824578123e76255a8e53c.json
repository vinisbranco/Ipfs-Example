{"ast":null,"code":"import _classCallCheck from \"/home/conseg/Documents/ipfs-example/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/conseg/Documents/ipfs-example/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/conseg/Documents/ipfs-example/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/conseg/Documents/ipfs-example/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/conseg/Documents/ipfs-example/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/conseg/Documents/ipfs-example/src/Imagepreview.js\";\nimport React, { Component } from 'react';\nimport image from './land-fill-icon-hi.png';\n\nvar Imagepreview =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Imagepreview, _Component);\n\n  function Imagepreview(props) {\n    var _this;\n\n    _classCallCheck(this, Imagepreview);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Imagepreview).call(this, props));\n    _this.state = {\n      loading: true,\n      caminho: '',\n      imagem: ''\n    };\n    return _this;\n  }\n\n  _createClass(Imagepreview, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      var caminho = \"https://ipfs.io/ipfs/\" + this.props.hash; //VALIDA SE É UMA IMAGEM OU OUTRO TIPO DE ARQUIVO\n\n      var img = new Image();\n      img.src = caminho;\n\n      img.onload = function () {\n        _this2.setValores(caminho, caminho);\n      };\n\n      img.onerror = function () {\n        _this2.setValores(caminho, image);\n      };\n    }\n  }, {\n    key: \"setValores\",\n    value: function setValores(caminho, imagem) {\n      this.setState({\n        loading: false,\n        caminho: caminho,\n        imagem: imagem\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"row\",\n        style: {\n          textAlign: \"center\",\n          display: \"block\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, !this.state.loading ? React.createElement(\"a\", {\n        href: this.state.caminho,\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"img-thumbnail\",\n        alt: \"Foto do Objeto\",\n        src: this.state.imagem,\n        style: {\n          'width': '160px',\n          'boxShadow': '0 1px 3px #ddd'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      })) : \"\");\n    }\n  }]);\n\n  return Imagepreview;\n}(Component);\n\nexport { Imagepreview as default };","map":{"version":3,"sources":["/home/conseg/Documents/ipfs-example/src/Imagepreview.js"],"names":["React","Component","image","Imagepreview","props","state","loading","caminho","imagem","hash","img","Image","src","onload","setValores","onerror","setState","textAlign","display"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,yBAAlB;;IAEqBC,Y;;;;;AACjB,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,sFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,IADE;AAEXC,MAAAA,OAAO,EAAE,EAFE;AAGXC,MAAAA,MAAM,EAAE;AAHG,KAAb;AAHiB;AASlB;;;;yCAEoB;AAAA;;AACnB,UAAMD,OAAO,GAAG,0BAA0B,KAAKH,KAAL,CAAWK,IAArD,CADmB,CAGnB;;AACA,UAAIC,GAAG,GAAG,IAAIC,KAAJ,EAAV;AACAD,MAAAA,GAAG,CAACE,GAAJ,GAAUL,OAAV;;AAEAG,MAAAA,GAAG,CAACG,MAAJ,GAAa,YAAM;AACjB,QAAA,MAAI,CAACC,UAAL,CAAgBP,OAAhB,EAAyBA,OAAzB;AACD,OAFD;;AAGAG,MAAAA,GAAG,CAACK,OAAJ,GAAc,YAAM;AAClB,QAAA,MAAI,CAACD,UAAL,CAAgBP,OAAhB,EAAyBL,KAAzB;AACD,OAFD;AAGD;;;+BAEUK,O,EAASC,M,EAAQ;AAC1B,WAAKQ,QAAL,CAAc;AAAEV,QAAAA,OAAO,EAAE,KAAX;AAAkBC,QAAAA,OAAO,EAAEA,OAA3B;AAAoCC,QAAAA,MAAM,EAAEA;AAA5C,OAAd;AACD;;;6BAEQ;AACP,aACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAqB,QAAA,KAAK,EAAE;AAACS,UAAAA,SAAS,EAAG,QAAb;AAAuBC,UAAAA,OAAO,EAAG;AAAjC,SAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,CAAC,KAAKb,KAAL,CAAWC,OAAZ,GAEE;AAAG,QAAA,IAAI,EAAE,KAAKD,KAAL,CAAWE,OAApB;AAA6B,QAAA,MAAM,EAAC,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,eAAf;AAA+B,QAAA,GAAG,EAAC,gBAAnC;AAAoD,QAAA,GAAG,EAAE,KAAKF,KAAL,CAAWG,MAApE;AAA4E,QAAA,KAAK,EAAE;AAAE,mBAAS,OAAX;AAAoB,uBAAc;AAAlC,SAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,GAME,EARN,CADF;AAaD;;;;EA7CqCP,S;;SAArBE,Y","sourcesContent":["import React, {Component} from 'react';\nimport image from './land-fill-icon-hi.png';\n\nexport default class Imagepreview extends Component {\n    constructor(props) {\n      super(props);\n  \n      this.state = {\n        loading: true,\n        caminho: '',\n        imagem: ''\n      };\n  \n    }\n  \n    componentWillMount() {\n      const caminho = \"https://ipfs.io/ipfs/\" + this.props.hash;\n  \n      //VALIDA SE É UMA IMAGEM OU OUTRO TIPO DE ARQUIVO\n      var img = new Image();\n      img.src = caminho;\n  \n      img.onload = () => {\n        this.setValores(caminho, caminho);\n      }\n      img.onerror = () => {\n        this.setValores(caminho, image);\n      }\n    }\n  \n    setValores(caminho, imagem) {\n      this.setState({ loading: false, caminho: caminho, imagem: imagem });\n    }\n  \n    render() {\n      return (\n        <div className=\"row\" style={{textAlign : \"center\", display : \"block\"}}>\n          {\n            !this.state.loading\n              ?\n              <a href={this.state.caminho} target=\"_blank\">\n                <img className=\"img-thumbnail\" alt=\"Foto do Objeto\" src={this.state.imagem} style={{ 'width': '160px', 'boxShadow' : '0 1px 3px #ddd'}} />\n              </a>\n              :\n              \"\"\n          }\n        </div>\n      );\n    }\n  }"]},"metadata":{},"sourceType":"module"}